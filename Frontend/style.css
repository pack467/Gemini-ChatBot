:root{
  --bg:#0b1020; --bg-card:rgba(255,255,255,.12); --bg-elev:rgba(255,255,255,.18);
  --text:#0f172a; --text-muted:#5b6476; --border:rgba(15,23,42,.1);
  --brand:#6c5ce7; --brand-2:#00d4ff;
  --bubble-user:#0d6efd; --bubble-user-2:#0ba7ff; --bubble-user-text:#fff;
  --bubble-bot:#e6f3ff; --bubble-bot-text:#0b1b34;
  --shadow-1:0 10px 30px rgba(17,24,39,.12); --card-blur:saturate(180%) blur(14px);
  --radius-xl:16px; --radius-2xl:20px;
}
html[data-theme="dark"]{
  --bg:#070a13; --bg-card:rgba(13,17,23,.7); --bg-elev:rgba(255,255,255,.06);
  --text:#e6eaf2; --text-muted:#9aa3b2; --border:rgba(255,255,255,.08);
  --bubble-user:#123a63; --bubble-user-2:#1b5b94; --bubble-user-text:#dbeafe;
  --bubble-bot:#123d2b; --bubble-bot-text:#dcfce7;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; font-family:"Inter",system-ui,Segoe UI,Roboto,Arial,sans-serif; color:var(--text);
  background: radial-gradient(1200px 600px at 10% -10%, rgba(108,92,231,.25), transparent 65%),
              radial-gradient(900px 500px at 100% 0%, rgba(0,212,255,.25), transparent 60%),
              var(--bg);
}
.bg-decor{position:fixed; inset:0; pointer-events:none; z-index:0;
  background: radial-gradient(800px 400px at 70% 20%, rgba(0,212,255,.12), transparent 70%),
              radial-gradient(600px 300px at 20% 80%, rgba(108,92,231,.12), transparent 70%);}

.app-header{
  position:sticky; top:0; z-index:5; display:flex; align-items:center; justify-content:space-between;
  gap:16px; padding:16px clamp(16px,4vw,28px); backdrop-filter:var(--card-blur);
  background:linear-gradient(90deg, rgba(108,92,231,.22), rgba(0,212,255,.22)); border-bottom:1px solid var(--border);
}
.brand{display:flex; align-items:center; gap:12px}
.logo{width:40px;height:40px;border-radius:12px; background:linear-gradient(135deg,var(--brand),var(--brand-2));
  display:grid; place-items:center; box-shadow:var(--shadow-1)}
.logo svg{width:22px;height:22px;fill:#fff;stroke:#fff}
.brand-text h1{margin:0;color:#fff;font-size:clamp(18px,2.2vw,22px);letter-spacing:.2px}
.brand-text .muted{margin:2px 0 0; font-size:12px; color:#dbeafe}
.header-actions{display:flex; gap:8px}
.icon-btn{height:40px; min-width:40px; padding:0 12px; display:inline-flex; align-items:center; justify-content:center;
  gap:8px; border:1px solid var(--border); border-radius:12px; background:var(--bg-card); color:#fff; cursor:pointer}
.icon-btn:hover{transform:translateY(-1px); background:var(--bg-elev)}

.container{
  position:relative; z-index:1; width:min(900px,92vw); margin:20px auto 24px;
  background:rgba(255,255,255,.72); backdrop-filter:var(--card-blur);
  border:1px solid var(--border); border-radius:var(--radius-2xl); box-shadow:var(--shadow-1);
  padding:clamp(14px,2vw,20px)
}
html[data-theme="dark"] .container{background:rgba(13,17,23,.6)}

.chat-box{
  display:flex; flex-direction:column; gap:6px;
  height:min(60vh,560px); overflow-y:auto; padding:16px;
  border:1px solid var(--border); border-radius:var(--radius-xl);
  background:linear-gradient(180deg, rgba(255,255,255,.7), rgba(255,255,255,.5));
}
html[data-theme="dark"] .chat-box{background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03))}
.chat-box::-webkit-scrollbar{width:10px}
.chat-box::-webkit-scrollbar-thumb{background:linear-gradient(var(--brand),var(--brand-2)); border-radius:8px}

/* Message bubble */
.message{display:flex; max-width:78%; gap:10px; margin:8px 0; animation:bIn .18s ease}
@keyframes bIn{from{transform:translateY(4px); opacity:0} to{transform:translateY(0); opacity:1}}
.message.user{align-self:flex-end; justify-content:flex-end}
.message.bot{align-self:flex-start; justify-content:flex-start}

.avatar{
  width:34px; height:34px; border-radius:50%;
  display:grid; place-items:center; font-weight:700; color:#fff; flex:0 0 34px;
  background:linear-gradient(135deg, var(--brand), var(--brand-2));
}
.message.bot .avatar{background:linear-gradient(135deg, #22c55e, #86efac); color:#0b1b34}

.bubble{
  padding:10px 14px; line-height:1.5; border-radius:18px; border:1px solid var(--border); background:#fff;
}
.message.user .bubble{background:linear-gradient(135deg, var(--bubble-user), var(--bubble-user-2)); color:var(--bubble-user-text); border-top-right-radius:6px}
.message.bot .bubble{background:var(--bubble-bot); color:var(--bubble-bot-text); border-top-left-radius:6px}
.meta{font-size:12px; color:var(--text-muted); margin-top:4px}

/* Input */
.chat-input{margin-top:14px; display:grid; grid-template-columns:1fr auto; gap:10px; align-items:center}
.input-wrapper{
  display:flex; align-items:center; gap:10px; border:1px solid var(--border); border-radius:999px; padding:8px 14px;
  background:#fff; box-shadow:var(--shadow-1)
}
html[data-theme="dark"] .input-wrapper{background:rgba(255,255,255,.06)}
#user-input{
  flex:1; resize:none; border:none; outline:none; background:transparent; color:var(--text);
  font-size:16px; line-height:1.4; max-height:160px; min-height:24px;
}
.hint{font-size:12px; color:var(--text-muted); user-select:none}

.send-btn{
  display:inline-flex; align-items:center; gap:10px; border:1px solid var(--border);
  background:linear-gradient(135deg, var(--brand), var(--brand-2)); color:#fff;
  padding:10px 18px; border-radius:999px; font-size:15px; font-weight:600; cursor:pointer;
  box-shadow:0 10px 18px rgba(108,92,231,.28)
}
.send-btn:hover{transform:translateY(-1px); filter:brightness(1.05)}
.send-icon{width:18px;height:18px;display:grid;place-items:center}
.send-icon svg{width:18px;height:18px;fill:currentColor}

.app-footer{text-align:center; padding:8px 12px 24px; color:var(--text-muted)}
.muted{color:var(--text-muted)}
@media (max-width:600px){.message{max-width:90%} .header-actions .icon-btn{height:38px; min-width:38px}}
